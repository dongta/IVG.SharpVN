@using IVG.Web.Mvc.Models;
@using System.Web.Script.Serialization;
@model FilterServiceLogItemDto
@{
    ViewBag.Title = "Simple Service Logs (Branch)";
}
<div class="col-lg-12 dnv-nav">
    <i class="fa @*fa-long-arrow-right*@"></i><a href="/staff/home">Home</a>
    <i class="fa fa-long-arrow-right"></i><a href="/staff/svc">SVC</a>
    <i class="fa fa-long-arrow-right"></i><a href="/staff/crm">CRM</a>
    <i class="fa fa-long-arrow-right"></i><a href="/staff/ServiceLog">Simple Service Logs (Branch)</a>
</div>
<div class="col-sm-12 text-left" style="font-size:20px !important;">
    <i class="fa @*fa-arrow-right*@ text-uppercase"> Simple Service Logs</i>
</div>
<div class="d-flex justify-content-between">
    <div>
        <a href="#" id="filter">
            <i class="fa fa-chevron-left text-uppercase"> Filter</i>
        </a>
    </div>
    <div>
        <div class="d-flex justify-content-end" id="divSearch">
            <a href="#" id="btnSearch" style="padding-right:10px;">
                <i class="fa fa-search"> Search data</i>
            </a>
            <a href="#" id="btnClearSearch">
                <i class="fa fa-trash"> Clear search</i>
            </a>
        </div>
    </div>
</div>
<form name="frmFilter" style="display:none">
    <div class="row" style="border:1px solid #d5d0d0; padding-bottom:5px;border-radius:5px;">
        <div class="col-sm-6">
            <div class="form">
                <label>Reference No.</label>
                <input type="text" name="referenceNo" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Customer Name</label>
                <input type="text" name="customerName" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Request from</label>
                <input type="date" name="requestFrom" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Escalation decision</label>
                <select name="escalationDecisionId" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_EscalationDicision)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>Transaction channel</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_TransactionChannel)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>State</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_Provinces)
                    {
                        <option value="@item.ProvinceID">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>Escalate to</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_EscalateTo)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form">
                <label>Report ID</label>
                <input type="text" name="" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Customer telephone No.</label>
                <input type="text" name="" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Request to</label>
                <input type="date" name="" class="form-control form-control-sm col-sm-12" />
            </div>
            <div class="form">
                <label>Quality assurance checking</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_QualityAssuranceChecking)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>Type of inquire</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_TypeOfInquiry)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>Product type</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_ProductType)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
            <div class="form">
                <label>Transaction status</label>
                <select name="" class="form-control form-control-sm col-sm-12">
                    <option value="">No Filter</option>
                    @foreach (var item in Model.tbl_TransactionStatus)
                    {
                        <option value="@item.Id">@item.Name</option>
                    }
                </select>
            </div>
        </div>
    </div>
    <div class="row" style="padding-top:5px; padding-bottom:5px">
            <label class="text-body d-inline">Sort by</label>
            <select class="form-control form-control-sm d-inline" style="min-width:100px;">
                @foreach (var item in Model.SortBy)
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
            <button class="fa fa-file-excel btn btn-sm btn-primary d-inline"> Export Excel</button>
    </div>
</form>

<div class="row" name="ketQuaTimKiem">
    <div class="table-responsive" style="width:100%;height:300px;">
        <table class="table table-bordered table-hover table-striped fa" id="tableResult" style="width:auto;min-width:1500px;">
            <tr class="bg-light text-sm-left">
                <th>No.</th>
                <th>Report ID</th>
                <th>Transaction Channel</th>
                <th>Inquiry Cat</th>
                <th>Sub Cat (1)</th>
                <th>Sub Cat (2)</th>
                <th>CustomerName</th>
                <th>Address (1)</th>
                <th>Address (2)</th>
                <th>Address (3)</th>
                <th>Postcode</th>
                <th>Town/city</th>
                <th>State</th>
            </tr>
            <tbody>
                @for (int i = 0; i < 10; i++)
                {
                    <tr>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                        <td>@i</td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>
<script>
    $(document).off("click", "#filter").on("click", "#filter", (a) => {
        $("form[name='frmFilter']").toggle("fade");
    });
    $(document).off("click", "#btnClearSearch").on("click", "#btnClearSearch", (a) => {
        $("form[name='frmFilter']").find("input[type=text], textarea,select").val("");
        $("form[name='frmFilter']").show();
    });
    $(document).off("click", "#btnSearch").on("click", "#btnSearch", (a) => {
        var dataAray = JSON.stringify($("form[name='frmFilter']").serializeArray())
        console.log(`form data`, dataAray);
    });

</script>
